@{
    ViewBag.Title = "Estado de cuentas";
}

@model InterfazGrafica.Models.Estado_Compra
<main aria-labelledby="title">
    <h2 id="title">@ViewBag.Title.</h2>
    <section class="d-flex justify-content-between">
        <ul class="list-inline">
            <li class="my-3"><b>Nombre del cliente: </b>@Model.EstadoCuenta.NombreTitular</li>
            <li><b>Numero de tarjeta de credito: </b> @Model.EstadoCuenta.NumeroTarjeta</li>
        </ul>
        <ul class="list-inline">
            <li class="my-2"><b>Saldo Actual:</b> $@Model.EstadoCuenta.SaldoActual</li>
            <li><b>Limite:</b> $@Model.EstadoCuenta.LimiteCredito</li>
            <li class="my-2"><b>Interes Bonificable:</b> $@Model.EstadoCuenta.InteresBonificable</li>
            <li><b>Saldo disponible:</b> $@Model.EstadoCuenta.SaldoDisponible</li>
            <li class="my-2"><b>Cuota Minima:</b> $@Model.EstadoCuenta.CuotaMinima</li>
            <li><b>Monto Total a pagar:</b> $@Model.EstadoCuenta.MontoTotalApagar</li>
            <li class="my-2"><b>Monto Total Contando intereses:</b> $@Model.EstadoCuenta.MontoTotalContadoIntereses</li>



        </ul>
    </section>
    <hr />
    
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Fecha</th>
                    <th scope="col">Descripcion</th>
                    <th scope="col">Monto</th>
                </tr>
            </thead>
            <tbody>
                @{
                    double montoTotalMes = 0; // Variable para mantener el total del mes
                }

                @foreach (var compras in Model.comprasUsuario)
                {
                    <tr>
                        <td>@compras.FechaCompra</td>
                        <td>@compras.Descripcion</td>
                        <td>@compras.Monto</td>
                    </tr>
                    @montoTotalMes = montoTotalMes + compras.Monto; // Sumar el monto de cada compra al total del mes
                    
                }
            </tbody>
        </table>
        <section class="d-flex">
            <div>
                <p>$@montoTotalMes </p>
                <p>Total de compras este mes</p>
            </div>
        </section>
     
     

    <a class="btn btn-danger" href="@Url.Action("Index")">Volver</a>
</main>